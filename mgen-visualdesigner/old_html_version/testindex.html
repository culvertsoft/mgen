<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.js"></script>
        <script>
            $(window).load(function() {
                var popup;
                $("#openPopup").click(function(){
                    popup = window.open('test-popup.html','child', 'width=500, height=500, location=no, menubar=no, scrollbars=no, status=no, toolbar=no');
                });

                $("#sendPopupMessage").click(function(){
                    popup.postMessage('Message from Index to Popup', '*');
                });

                addEventListener('message', function(e){
                  console.log('Index received message!: ', e.data);
                }, false);
            });
        </script>
    </head>
    <body>
        <div id="openPopup">Open Popup</div>
        <div id="sendPopupMessage">Send Popup Message</div>
    </body>
</html>
